<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulador Imobili√°rio ‚Äî Diagn√≥stico</title>

<style>
/* =========================
   RESET / BASE
========================= */
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  background: #f4f6f5;
  color: #222;
}

/* =========================
   TOPO
========================= */
.painel-topo {
  background: #fff;
  border-bottom: 1px solid #e0e0e0;
  padding: 18px;
}
.painel-topo h1 {
  text-align: center;
  color: #0b6e3b;
  margin: 0 0 18px;
  font-size: 22px;
}

/* =========================
   GRID
========================= */
.grid-topo {
  max-width: 980px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
}
@media (min-width: 768px) {
  .grid-topo { grid-template-columns: repeat(2, 1fr); }
}
.campo-full { grid-column: 1 / -1; }

/* =========================
   CAMPOS
========================= */
.campo label {
  display: block;
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 6px;
}
.campo input,
.campo select {
  width: 100%;
  padding: 11px 12px;
  border-radius: 10px;
  border: 1px solid #ccc;
  font-size: 15px;
  background: #fff;
}

/* =========================
   BOXES
========================= */
.box-claro {
  background: #f6f9f7;
  padding: 16px;
  border-radius: 14px;
  border: 1px solid #e6efe9;
}
.box-claro.azul {
  background: #f2f6fb;
  border-color: #dbe6f7;
}
.box-claro.amarelo {
  background: #fffbe8;
  border-color: #f3e7b3;
}
.box-claro h3 {
  margin: 0 0 14px;
  font-size: 16px;
  color: #0b6e3b;
}

/* =========================
   SUBGRID
========================= */
.subgrid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
}
@media (min-width: 768px) {
  .subgrid { grid-template-columns: repeat(2, 1fr); }
  .span2 { grid-column: 1 / -1; }
}

/* =========================
   BOT√ïES
========================= */
.btn-limpar {
  background: #c62828;
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 12px;
  font-weight: 800;
  font-size: 14px;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: .4px;
  margin-top: 18px;
}
.btn-limpar:hover { opacity: .9; }

/* =========================
   OBS
========================= */
.obs {
  margin-top: 8px;
  font-size: 13px;
  font-style: italic;
  opacity: .85;
}
</style>
</head>

<body>

<div class="painel-topo">
  <h1>Simulador Imobili√°rio</h1>

  <div class="grid-topo">

    <!-- PERFIL -->
    <div class="box-claro campo-full">
      <h3>üë§ Sobre quem vai comprar</h3>

      <div class="subgrid">
        <div class="campo span2">
          <label>üë• Vai adquirir sozinho(a) ou com algu√©m?</label>
          <select id="compraCom" onchange="onChangeComposicao()">
            <option value="">Selecione...</option>
            <option value="sozinho">Sozinho(a)</option>
            <option value="namorado">Com namorado(a)</option>
            <option value="noivo">Com noivo(a)</option>
            <option value="conjuge">Com c√¥njuge</option>
            <option value="familiar">Com familiar</option>
          </select>
        </div>

        <div class="campo" id="boxRenda" style="display:none;">
          <label id="labelRenda"></label>
          <input id="renda" oninput="formatarMoeda(this); onRendaEstado();" />
        </div>

        <div class="campo" id="boxEstado" style="display:none;">
          <label id="labelEstado"></label>
          <select id="estado" onchange="onRendaEstado()">
            <option value="">Selecione...</option>
            <option>AC</option><option>AL</option><option>AP</option><option>AM</option>
            <option>BA</option><option>CE</option><option>DF</option><option>ES</option>
            <option>GO</option><option>MA</option><option>MG</option><option>PA</option>
            <option>PB</option><option>PE</option><option>PI</option><option>PR</option>
            <option>RJ</option><option>RN</option><option>RS</option><option>SC</option>
            <option>SE</option><option>SP</option><option>TO</option>
          </select>
        </div>
      </div>
    </div>

    <!-- RENDA / FGTS -->
    <div class="box-claro azul campo-full" id="boxProf" style="display:none;">
      <h3>üíº Renda e FGTS</h3>

      <div class="subgrid">
        <div class="campo span2" id="boxSing" style="display:none;">
          <label>Voc√™ trabalha como:</label>
          <select id="tipoSing" onchange="onTipo()">
            <option value="">Selecione...</option>
            <option value="clt3">CLT (h√° mais de 3 anos)</option>
            <option value="outro">CLT &lt; 3 anos / PJ</option>
          </select>
        </div>

        <div class="campo span2" id="boxPlur" style="display:none;">
          <label>Na composi√ß√£o de renda, pelo menos uma pessoa √© CLT h√° mais de 3 anos?</label>
          <select id="tipoPlur" onchange="onTipo()">
            <option value="">Selecione...</option>
            <option value="sim">Sim</option>
            <option value="nao">N√£o</option>
          </select>
          <div class="obs">
            * Se a resposta for <b>N√£o</b>, o simulador considera <b>n√£o cotista</b>.
          </div>
        </div>

        <div class="campo" id="boxFgts" style="display:none;">
          <label id="labelFgts"></label>
          <select id="usaFgts" onchange="toggleFgts()">
            <option value="nao">N√£o</option>
            <option value="sim">Sim</option>
          </select>
        </div>

        <div class="campo" id="boxFgtsVal" style="display:none;">
          <label>üí∞ Valor estimado do FGTS</label>
          <input id="fgtsVal" oninput="formatarMoeda(this)" />
        </div>
      </div>
    </div>

    <!-- CAPACIDADE -->
    <div class="box-claro amarelo campo-full" id="boxCap" style="display:none;">
      <h3>üí∞ Capacidade inicial</h3>

      <div class="subgrid">
        <div class="campo span2">
          <label>Possui algum valor guardado para entrada?</label>
          <select id="temGuardado" onchange="toggleGuardado()">
            <option value="">Selecione...</option>
            <option value="nao">N√£o</option>
            <option value="sim">Sim</option>
          </select>
        </div>

        <div class="campo" id="boxValorGuardado" style="display:none;">
          <label>üí∏ Quanto?</label>
          <input id="valorGuardado" oninput="formatarMoeda(this)" />
        </div>
      </div>
    </div>

    <!-- BOT√ÉO LIMPAR -->
    <div class="campo-full">
      <button class="btn-limpar" onclick="limparDiagnostico()">LIMPAR DADOS</button>
    </div>

  </div>
</div>

<script>
function formatarMoeda(c){
  let v=(c.value||"").replace(/\D/g,"");
  if(!v){c.value="";return;}
  v=(parseInt(v,10)/100).toFixed(2).replace(".",",");
  v=v.replace(/\B(?=(\d{3})+(?!\d))/g,".");
  c.value="R$ "+v;
}

function onChangeComposicao(){
  const isComp = compraCom.value !== "sozinho";
  labelRenda.innerText = isComp
    ? "üí∞ Qual a renda mensal familiar? (soma das rendas)"
    : "üí∞ Qual a sua renda mensal?";
  labelEstado.innerText = isComp
    ? "üìç Em qual estado voc√™s moram?"
    : "üìç Em qual estado voc√™ mora?";
  labelFgts.innerText = isComp
    ? "üí∞ V√£o utilizar FGTS? (de pelo menos 1)"
    : "üí∞ Vai utilizar FGTS?";
  boxRenda.style.display = "block";
}

function onRendaEstado(){
  if(renda.value) boxEstado.style.display="block";
  if(estado.value){
    boxProf.style.display="block";
    boxSing.style.display = compraCom.value==="sozinho"?"block":"none";
    boxPlur.style.display = compraCom.value!=="sozinho"?"block":"none";
  }
}

function onTipo(){
  const cotista = compraCom.value==="sozinho"
    ? tipoSing.value==="clt3"
    : tipoPlur.value==="sim";
  boxFgts.style.display = cotista?"block":"none";
  boxCap.style.display = "block";
}

function toggleFgts(){
  boxFgtsVal.style.display = usaFgts.value==="sim"?"block":"none";
}

function toggleGuardado(){
  boxValorGuardado.style.display =
    temGuardado.value==="sim" ? "block" : "none";
  if(temGuardado.value!=="sim") valorGuardado.value="";
}

function limparDiagnostico(){
  location.reload();
}
</script>

</body>
</html>
