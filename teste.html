<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulador Imobili√°rio</title>

<style>
*{ box-sizing:border-box; }
body{
  margin:0;
  font-family: Arial, Helvetica, sans-serif;
  background:#f4f6f5;
  color:#222;
}

/* ===== TOPO ===== */
.painel-topo{
  background:#fff;
  border-bottom:1px solid #e0e0e0;
  padding:16px;
}
.painel-topo h1{
  text-align:center;
  color:#0b6e3b;
  margin:0 0 16px;
  font-size:22px;
}
.grid-topo{
  max-width:900px;
  margin:0 auto;
  display:grid;
  grid-template-columns:1fr;
  gap:12px;
}
.campo label{
  display:block;
  font-size:13px;
  font-weight:600;
  margin-bottom:6px;
}
.campo input,.campo select{
  width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:15px;
}
.campo-full{ grid-column:1/-1; }

@media(min-width:768px){
  .grid-topo{ grid-template-columns:repeat(2,1fr); }
  .grid-imovel{
    grid-column:1/-1;
    display:grid;
    grid-template-columns:2fr 1fr;
    gap:12px;
  }
}

/* ===== CONTAINER ===== */
.container{
  max-width:900px;
  margin:24px auto;
  padding:0 16px 40px;
}

/* ===== BLOCO ===== */
.bloco{
  background:#fff;
  border-radius:14px;
  border:1px solid #ddd;
  margin-bottom:18px;
  overflow:hidden;
}
.bloco-header{
  color:#fff;
  padding:14px 16px;
  font-weight:700;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.header-entrada{ background:#0b6e3b; }
.header-juros{ background:#d97706; }

.toggle-icon{
  background:rgba(255,255,255,0.2);
  border-radius:6px;
  width:22px;
  height:22px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.bloco-conteudo{
  display:none;
  padding:18px;
}

.subgrid{
  display:grid;
  grid-template-columns:1fr;
  gap:12px;
}
@media(min-width:768px){
  .subgrid{ grid-template-columns:repeat(2,1fr); }
  .span2{ grid-column:1/-1; }
}

.divider{
  height:1px;
  background:#e9e9e9;
  margin:16px 0;
}

/* ===== BOT√ïES ===== */
.btn-entrada{ background:#0b6e3b; }
.btn-juros{ background:#d97706; }
button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  color:#fff;
  font-size:15px;
  cursor:pointer;
  margin-top:12px;
}

/* BOT√ÉO LIMPAR */
.box-limpar{
  display:none;
  text-align:center;
  margin:12px 0 24px;
}
.btn-limpar{
  background:#c62828;
  color:#fff;
  font-size:13px;
  padding:8px 18px;
  border-radius:20px;
  display:inline-block;
}
.btn-limpar:hover{ background:#b71c1c; }

/* ===== RESULTADOS ===== */
.resultado{
  background:#f1f7f3;
  padding:16px;
  border-radius:12px;
}
.alerta{
  color:#c62828;
  font-weight:700;
}

/* ===== INTERMEDI√ÅRIAS ===== */
.bloco-inter{ background:#f3faf6; padding:12px; border-radius:10px; }
.inter-list{ display:flex; flex-direction:column; gap:10px; }
.inter-row{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
  background:#fff;
  border:1px solid #e6efe9;
  padding:10px;
  border-radius:10px;
}
@media(min-width:768px){
  .inter-row{ grid-template-columns:1fr 1fr; }
}
</style>
</head>

<body>

<!-- ===== TOPO ===== -->
<div class="painel-topo">
  <h1>Simulador Imobili√°rio</h1>
  <div class="grid-topo">

    <div class="grid-imovel">
      <div class="campo">
        <label>üè† Valor do Im√≥vel (R$)</label>
        <input id="valorImovel" oninput="formatarMoeda(this)">
      </div>
      <div class="campo">
        <label>üè¢ Unidade / Bloco / Andar</label>
        <input id="unidade">
      </div>
    </div>

    <div class="campo">
      <label>üè¶ Valor do Financiamento (R$)</label>
      <input id="valorFinanciamento" oninput="formatarMoeda(this)">
    </div>

    <div class="campo">
      <label>üí∞ FGTS (R$)</label>
      <input id="fgts" oninput="formatarMoeda(this)">
    </div>

    <div class="campo campo-full">
      <label>üìÖ Previs√£o de Entrega (m√™s/ano)</label>
      <select id="entregaSelect"></select>
    </div>

  </div>
</div>

<div class="container">

<!-- ===== ENTRADA ===== -->
<div class="bloco">
  <div class="bloco-header header-entrada" onclick="toggleBloco(this)">
    <span>üí∞ Entrada / Fluxo Inicial</span>
    <span class="toggle-icon">+</span>
  </div>

  <div class="bloco-conteudo">

    <div class="subgrid">
      <div class="campo">
        <label>üí∏ Valor do Ato (R$)</label>
        <input id="ato" oninput="formatarMoeda(this)">
      </div>
      <div class="campo">
        <label>üóìÔ∏è MESES / PARCELAS</label>
        <input id="parcelasEntrada" type="number">
      </div>
      <div class="campo span2">
        <label>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Renda Familiar Mensal (R$)</label>
        <input id="renda" oninput="formatarMoeda(this)">
      </div>
    </div>

    <button class="btn-entrada" onclick="calcularEntrada()">Calcular Entrada</button>
  </div>
</div>

<div id="resultadoEntrada" class="resultado" style="display:none;"></div>
<div id="limparEntradaBox" class="box-limpar">
  <button class="btn-limpar" onclick="limparEntrada()">Limpar fluxo de entrada</button>
</div>

<!-- ===== JUROS ===== -->
<div class="bloco">
  <div class="bloco-header header-juros" onclick="toggleBloco(this)">
    <span>üèóÔ∏è Juros de Obra</span>
    <span class="toggle-icon">+</span>
  </div>

  <div class="bloco-conteudo">

    <div class="subgrid">
      <div class="campo">
        <label>% da Obra</label>
        <input id="percObra" type="number">
      </div>
      <div class="campo">
        <label>Taxa de Juros Anual (%)</label>
        <input id="jurosAnual" type="number">
      </div>
      <div class="campo">
        <label>TR (%) <small>‚Äì m√©dia 0,17%</small></label>
        <input id="tr" type="number" value="0.17">
      </div>
      <div class="campo">
        <label>Taxas e Seguros (R$) <small>‚Äì m√©dia R$ 65</small></label>
        <input id="taxas" value="R$ 65,00" oninput="formatarMoeda(this)">
      </div>
    </div>

    <button class="btn-juros" onclick="calcularJuros()">Calcular Juros de Obra</button>
  </div>
</div>

<div id="resultadoJuros" class="resultado" style="display:none;"></div>
<div id="limparJurosBox" class="box-limpar">
  <button class="btn-limpar" onclick="limparJuros()">Limpar juros de obra</button>
</div>

</div>

<script>
function formatarMoeda(c){
  let v=(c.value||"").replace(/\D/g,"");
  if(!v){ c.value=""; return; }
  v=(parseInt(v)/100).toFixed(2).replace(".",",");
  v=v.replace(/\B(?=(\d{3})+(?!\d))/g,".");
  c.value="R$ "+v;
}
function limpar(v){
  return parseFloat((v||"").replace(/[R$\.\s]/g,"").replace(",", "."))||0;
}
function moeda(n){
  return n.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});
}
function gerarMesAno(){
  const h=new Date(), arr=[];
  const m=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];
  for(let i=0;i<48;i++){
    const d=new Date(h.getFullYear(),h.getMonth()+i,1);
    arr.push(`${m[d.getMonth()]}/${String(d.getFullYear()).slice(-2)}`);
  }
  return arr;
}
(function(){
  const sel=document.getElementById("entregaSelect");
  gerarMesAno().forEach(t=>{
    const o=document.createElement("option");
    o.textContent=t;
    sel.appendChild(o);
  });
})();

function toggleBloco(el){
  const c=el.nextElementSibling;
  const i=el.querySelector(".toggle-icon");
  const aberto=c.style.display==="block";
  c.style.display=aberto?"none":"block";
  i.textContent=aberto?"+":"‚Äì";
}

function calcularEntrada(){
  resultadoEntrada.style.display="block";
  limparEntradaBox.style.display="block";
  resultadoEntrada.innerHTML="<b>Fluxo calculado.</b>";
}
function limparEntrada(){
  resultadoEntrada.style.display="none";
  limparEntradaBox.style.display="none";
  resultadoEntrada.innerHTML="";
}

function calcularJuros(){
  resultadoJuros.style.display="block";
  limparJurosBox.style.display="block";
  resultadoJuros.innerHTML="<b>Juros calculados.</b>";
}
function limparJuros(){
  resultadoJuros.style.display="none";
  limparJurosBox.style.display="none";
  resultadoJuros.innerHTML="";
}
</script>

</body>
</html>
