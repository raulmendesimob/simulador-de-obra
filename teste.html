<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulador de Entrada</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f6f7f6;
  margin: 0;
  padding: 0;
  color: #222;
}

.container {
  max-width: 700px;
  background: #fff;
  margin: 40px auto;
  border-radius: 14px;
  padding: 30px;
  box-shadow: 0 4px 14px rgba(0,0,0,0.1);
}

h1 {
  text-align: center;
  color: #0b6e3b;
  margin-bottom: 25px;
}

label {
  font-weight: bold;
  display: block;
  margin-top: 14px;
}

input, select {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 15px;
}

button {
  background: #0b6e3b;
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 14px;
  font-size: 16px;
  cursor: pointer;
  width: 100%;
  margin-top: 20px;
}

button:hover { background: #095a31; }

.resultado {
  margin-top: 25px;
  background: #f1f7f3;
  padding: 18px;
  border-radius: 10px;
}

.alerta {
  color: #c62828;
  font-weight: bold;
}

.obs {
  font-size: 13px;
  color: #555;
  margin-top: 10px;
  font-style: italic;
}

.linha {
  display: flex;
  gap: 12px;
}

@media (max-width: 600px) {
  .linha { flex-direction: column; }
}
</style>
</head>

<body>

<div class="container">
<h1>Simulador de Entrada</h1>

<label>ğŸ  Valor do ImÃ³vel (R$)</label>
<input id="imovel" oninput="formatarMoeda(this)">

<label>ğŸ¦ Valor do Financiamento (R$)</label>
<input id="financiamento" oninput="formatarMoeda(this)">

<label>ğŸ’° FGTS (R$)</label>
<input id="fgts" oninput="formatarMoeda(this)" placeholder="Opcional">

<hr>

<label>ğŸ’¸ Valor do Ato (R$)</label>
<input id="ato" oninput="formatarMoeda(this)">

<label>ğŸ“† Quantidade de Parcelas da Entrada</label>
<input id="parcelas">

<label>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Renda Familiar Mensal (R$)</label>
<input id="renda" oninput="formatarMoeda(this)">

<hr>

<label>ğŸ“Š Tem IntermediÃ¡rias?</label>
<select id="temInter" onchange="toggleInter()">
  <option value="nao">NÃ£o</option>
  <option value="sim">Sim</option>
</select>

<div id="interBox" style="display:none;">
  <label>Quantidade de IntermediÃ¡rias</label>
  <input id="qtdInter">

  <label>Valor da IntermediÃ¡ria (R$)</label>
  <input id="valorInter" oninput="formatarMoeda(this)" placeholder="Se vazio, usa 100% da renda">
</div>

<button onclick="calcular()">Calcular Entrada</button>

<div id="resultado" class="resultado"></div>

<p class="obs">
* Parcelas mensais limitadas a 30% da renda.<br>
* IntermediÃ¡rias limitadas a 100% da renda.
</p>
</div>

<script>
function formatarMoeda(campo) {
  let v = campo.value.replace(/\D/g, "");
  v = (v / 100).toFixed(2).replace(".", ",");
  v = v.replace(/\B(?=(\d{3})+(?!\d))/g, ".");
  campo.value = "R$ " + v;
}

function limpar(v) {
  return parseFloat(v.replace(/[R$\.\s]/g, "").replace(",", ".")) || 0;
}

function toggleInter() {
  interBox.style.display = temInter.value === "sim" ? "block" : "none";
}

function calcular() {
  const imovelV = limpar(imovel.value);
  const financV = limpar(financiamento.value);
  const fgtsV = limpar(fgts.value);
  const atoV = limpar(ato.value);
  const rendaV = limpar(renda.value);
  const parcelasV = parseInt(parcelas.value) || 0;

  if (!imovelV || !financV || !atoV || !rendaV || !parcelasV) {
    resultado.innerHTML = "<p class='alerta'>Preencha todos os campos obrigatÃ³rios.</p>";
    return;
  }

  const entradaTotal = imovelV - financV - fgtsV;
  let restante = entradaTotal - atoV;

  let interTotal = 0;
  let interValor = 0;
  let qtdInterV = 0;

  if (temInter.value === "sim") {
    qtdInterV = parseInt(qtdInter.value) || 0;
    interValor = limpar(valorInter.value) || rendaV;
    interTotal = interValor * qtdInterV;
    restante -= interTotal;
  }

  const mensalMax = rendaV * 0.3;
  let mensal = restante / parcelasV;

  let saldoNaoCoberto = 0;
  let alerta = "";

  if (mensal > mensalMax) {
    mensal = mensalMax;
    saldoNaoCoberto = restante - (mensal * parcelasV);
    alerta = "<p class='alerta'>âš ï¸ As parcelas mensais ultrapassariam 30% da renda.</p>";
  }

  resultado.innerHTML = `
    <h3>Resumo da Entrada</h3>
    <p>Entrada to
